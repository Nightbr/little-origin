[tools]
node = "24"
pnpm = "10"
python = {version = "3.11", uv = true}
uv = "latest"

[env]
NODE_ENV = "development"

[tasks.dev]
description = "Start development servers"
run = "turbo dev"

[tasks.docs]
description = "Start documentation server"
run = ["pnpm install", "pnpm --filter @little-origin/docs dev"]

[tasks.build]
description = "Build all packages and apps"
run = "turbo build"

[tasks.lint]
run = "turbo lint"

[tasks.format]
run = "turbo format"

[tasks.typecheck]
run = "turbo typecheck"

[tasks.test]
run = "turbo test"

[tasks.generate-names]
description = "Generate extended-dataset CSV files from names-dataset library"
dir = "packages/name-data-generator"
run = ["uv sync", "uv run generate-names"]

[tasks.generate-names-5k]
description = "Generate 5000 names per gender (10000 per country)"
dir = "packages/name-data-generator"
run = ["uv sync", "uv run generate-names --names 5000"]

[tasks.generate-names-ai]
description = "Generate 5000 names per gender with AI cleaning (requires OPENROUTER_API_KEY)"
dir = "packages/name-data-generator"
run = ["uv sync", "uv run generate-names --names 5000 --use-ai"]

[tasks.test-names]
description = "Run Python tests for name-data-generator"
dir = "packages/name-data-generator"
run = "uv run pytest -k 'not integration and not slow'"
